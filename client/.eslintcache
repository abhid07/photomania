[{"F:\\Face\\mern\\Photo Mania\\client\\src\\index.js":"1","F:\\Face\\mern\\Photo Mania\\client\\src\\App.js":"2","F:\\Face\\mern\\Photo Mania\\client\\src\\reducers\\userReducer.js":"3","F:\\Face\\mern\\Photo Mania\\client\\src\\components\\Navbar.jsx":"4","F:\\Face\\mern\\Photo Mania\\client\\src\\components\\screens\\Signup.jsx":"5","F:\\Face\\mern\\Photo Mania\\client\\src\\components\\screens\\Profile.jsx":"6","F:\\Face\\mern\\Photo Mania\\client\\src\\components\\screens\\UpdateUser.jsx":"7","F:\\Face\\mern\\Photo Mania\\client\\src\\components\\screens\\UserProfile.jsx":"8","F:\\Face\\mern\\Photo Mania\\client\\src\\components\\screens\\CreatePost.jsx":"9","F:\\Face\\mern\\Photo Mania\\client\\src\\components\\Footer.jsx":"10","F:\\Face\\mern\\Photo Mania\\client\\src\\components\\screens\\Signin.jsx":"11","F:\\Face\\mern\\Photo Mania\\client\\src\\components\\LandingPage.jsx":"12","F:\\Face\\mern\\Photo Mania\\client\\src\\components\\screens\\MyFollowingPost.jsx":"13","F:\\Face\\mern\\Photo Mania\\client\\src\\components\\screens\\Home.jsx":"14"},{"size":155,"mtime":1609247122964,"results":"15","hashOfConfig":"16"},{"size":2398,"mtime":1609837933719,"results":"17","hashOfConfig":"16"},{"size":579,"mtime":1609837822414,"results":"18","hashOfConfig":"16"},{"size":5684,"mtime":1610698198670,"results":"19","hashOfConfig":"16"},{"size":3752,"mtime":1609792540556,"results":"20","hashOfConfig":"16"},{"size":6206,"mtime":1610217066999,"results":"21","hashOfConfig":"16"},{"size":2522,"mtime":1609842880228,"results":"22","hashOfConfig":"16"},{"size":5434,"mtime":1609841767111,"results":"23","hashOfConfig":"16"},{"size":3131,"mtime":1609789043518,"results":"24","hashOfConfig":"16"},{"size":200,"mtime":1609434100803,"results":"25","hashOfConfig":"16"},{"size":2933,"mtime":1610650169108,"results":"26","hashOfConfig":"16"},{"size":5192,"mtime":1609838098384,"results":"27","hashOfConfig":"16"},{"size":9559,"mtime":1609842011297,"results":"28","hashOfConfig":"16"},{"size":10379,"mtime":1610217517377,"results":"29","hashOfConfig":"16"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},"bmaaru",{"filePath":"33","messages":"34","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"35","usedDeprecatedRules":"32"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"44","usedDeprecatedRules":"32"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"51","usedDeprecatedRules":"32"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"F:\\Face\\mern\\Photo Mania\\client\\src\\index.js",[],["62","63"],"F:\\Face\\mern\\Photo Mania\\client\\src\\App.js",["64"],"import './App.css'\nimport Navbar from './components/Navbar'\nimport {BrowserRouter as Router ,  Route, Switch , useHistory } from 'react-router-dom'\nimport Home from './components/screens/Home';\nimport Signin from './components/screens/Signin';\nimport Signup from './components/screens/Signup';\nimport Profile from './components/screens/Profile';\nimport CreatePost from './components/screens/CreatePost';\nimport React,{ createContext, useEffect , useReducer, useContext} from 'react';\nimport {reducer,initialState} from './reducers/userReducer'\nimport UserProfile from './components/screens/UserProfile';\nimport MyFollowingPost from './components/screens/MyFollowingPost';\nimport Footer from './components/Footer'\nimport UpdateUser from './components/screens/UpdateUser'\nimport 'react-toastify/dist/ReactToastify.css'\nimport LandingPage from './components/LandingPage';\n\nexport const UserContext = createContext()\n\n\nconst Routing=()=>{\n  let history = useHistory()\n  const { dispatch } = useContext(UserContext)\n   \n  useEffect(()=>{\n      const user = JSON.parse(localStorage.getItem(\"user\"))\n      \n      if(user)\n      {\n        dispatch({type:\"USER\", payload:user})\n      }\n      else\n      {\n        history.push('/signin')\n      }\n  },[])\n\n  return(\n    <Switch>\n      <Route path=\"/home\">\n        <Home />\n      </Route>\n      <Route path=\"/signin\">\n        <Signin />\n      </Route>\n      <Route path=\"/signup\">\n        <Signup />\n      </Route>\n      <Route exact path=\"/profile\">\n        <Profile />\n      </Route>\n      <Route path=\"/createpost\">\n        <CreatePost />\n      </Route>\n      <Route path=\"/profile/:userid\">\n        <UserProfile/>\n      </Route>\n      <Route path=\"/followingpost\">\n        <MyFollowingPost/>\n      </Route>\n      <Route path=\"/update-user/:id\">\n        <UpdateUser/>\n      </Route>\n    </Switch>\n  )\n\n}\n\n\nfunction App() {\n  const [state,dispatch] = useReducer(reducer,initialState)\n  return (\n    <UserContext.Provider value={{state,dispatch}}>\n    <Router>\n      <Route exact path=\"/\">\n        <LandingPage/>\n      </Route>\n        <Route path={[\"/home\", \"/signin\",\"/signup\",\"/profile\",\"/createpost\",\"/followingpost\",\"/update-user/:id\",\"/profile/:userid\"]}>\n        <div className=\"main-container\"> \n        <Navbar/>\n        <Routing/>\n        </div>\n        <Footer/>\n      </Route>\n    </Router>\n    </UserContext.Provider>\n  );\n}\n\nexport default App;\n","F:\\Face\\mern\\Photo Mania\\client\\src\\reducers\\userReducer.js",[],"F:\\Face\\mern\\Photo Mania\\client\\src\\components\\Navbar.jsx",[],"F:\\Face\\mern\\Photo Mania\\client\\src\\components\\screens\\Signup.jsx",[],"F:\\Face\\mern\\Photo Mania\\client\\src\\components\\screens\\Profile.jsx",["65"],"import axios from 'axios'\r\nimport React,{useEffect,useState,useContext} from 'react'\r\nimport {UserContext} from \"../../App\"\r\nimport { toast } from 'react-toastify'\r\nimport {Link} from 'react-router-dom'\r\nimport RingLoader from \"react-spinners/RingLoader\";\r\nimport PropagateLoader from 'react-spinners/PropagateLoader'\r\n\r\ntoast.configure()\r\n\r\n\r\n\r\nexport default function Profile() {\r\n\r\n    const [myposts, setMyposts] = useState([])\r\n    const {state,dispatch} = useContext(UserContext) \r\n    const [image, setImage] = useState(\"\")\r\n    const [photo, setPhoto] = useState(\"\")\r\n    const [loadingmsg , setLoadingMsg] = useState(\"\")\r\n    const color = \"red\"\r\n    const newcolor = \"white\"\r\n\r\n    useEffect(() => {\r\n        axios('/mypost',{\r\n            method:\"get\",\r\n            headers:{\r\n                \"Authorization\":localStorage.getItem(\"jwt\")\r\n            }\r\n        })\r\n        .then(res=>{\r\n            // console.log (res.data.mypost)\r\n            setMyposts(res.data.mypost)\r\n            \r\n        })\r\n        .catch(err=>{\r\n            console.log(err);\r\n        })\r\n    }, [])\r\n\r\n    //uploading profile pic url into database \r\n    useEffect(() => {\r\n        if (photo) {\r\n            let data = {\r\n                profilepic:photo\r\n            }\r\n            setLoadingMsg(\"\")\r\n            console.log(data);\r\n            axios(`/profilepic/${state._id}`, {\r\n                method: \"put\",\r\n                headers: { \"Authorization\": localStorage.getItem(\"jwt\") },\r\n                data: data\r\n            })\r\n                .then(res => {\r\n                    console.log(res.data)\r\n                    toast.success(\"Profile pic updated\")\r\n                    dispatch({ type: \"UPDATEPIC\", payload: { profilepic: res.data.profilepic} })\r\n                    localStorage.setItem('user',JSON.stringify(res.data))\r\n                    document.getElementById('profilepic').value=\"\"\r\n                })\r\n                .catch(err => console.log(err.response.data))\r\n        }\r\n    }, [photo])\r\n\r\n\r\n    //uploading profile pic into cloudinary\r\n\r\n    let uploadPhoto = (e) => {\r\n        e.preventDefault()\r\n        setLoadingMsg(\"Woah 😍! its a nice pic. wait for few minutes. we are uploading it for you.\")\r\n        const data = new FormData()\r\n        data.append(\"file\", image)\r\n        data.append(\"upload_preset\", \"photo-mania\")\r\n        data.append(\"cloud_name\", \"photo-mania\")\r\n        \r\n        //uploading image in cloudinary\r\n\r\n        axios.post(\"https://api.cloudinary.com/v1_1/photo-mania/image/upload\", data)\r\n            .then(res => {\r\n                console.log(res.data.url)\r\n                //setting cloudanary image url \r\n                setPhoto(res.data.url)\r\n                \r\n            })\r\n            .catch(err => console.log(err))\r\n    } \r\n \r\n\r\n    //render users posts\r\n\r\n    let renderMyPosts = ()=>{\r\n        return(\r\n          myposts.map(post=>{\r\n              return(\r\n                <div className=\"singlepost\" key={post._id}>\r\n                    <img src={post.photo} alt=\"post\" />\r\n                    <button style={{}} onClick={()=>deletePost(post._id)}>Delete</button>\r\n                </div>\r\n              )\r\n          })\r\n        )\r\n    }\r\n\r\n    let deletePost = (postId) => {\r\n        axios(`/deletepost/${postId}`, {\r\n            method: \"delete\",\r\n            headers: {\r\n                \"Authorization\": localStorage.getItem(\"jwt\")\r\n            }\r\n        })\r\n            .then(res => {\r\n                console.log(res.data)\r\n                toast.success(\"Post deleted\")\r\n                const newPost = myposts.filter(item => {\r\n                    return item._id !== res.data._id\r\n                })\r\n                setMyposts(newPost)\r\n            })\r\n            .catch(err => {\r\n                console.log(err);\r\n            })\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            {console.log(myposts)}\r\n            <div className=\"profile-info\">\r\n                <div className=\"row\">\r\n                    <div className=\"col-md-6 dp\">\r\n                        <div className=\"circular--portrait\">\r\n                            <img src={state?state.profilepic:<></>} alt=\"user profile pic\"/>\r\n                        </div>\r\n                        <div className=\"file\">\r\n                            <input className=\"form-control\" type=\"file\" id=\"profilepic\" onChange={(e) => setImage(e.target.files[0])} required />\r\n                        </div>\r\n                        <h3 style={{ color: \"red\", textTransform: \"capitalize\",fontFamily: \"Acme, sans-serif\"}}>{loadingmsg}</h3>\r\n                        {\r\n                            (loadingmsg !== \"\") ? <div style={{marginBottom:\"20px\"}}><PropagateLoader color={newcolor} size={10} /></div>:<></>\r\n                        }\r\n                        <button onClick={uploadPhoto}>Submit</button>\r\n                    </div>\r\n                    <div className=\"col-md-6 user-info\">\r\n                        <Link to=\"/followingpost\" className=\"link followingpost\">My following post</Link>\r\n                        <h3>{state?state.name:\"Loading\"}</h3>\r\n                        <h4>{state?state.email:\"Loading\"}</h4>\r\n                        <div className=\"counts\">\r\n                            <p>{(myposts)?myposts.length:<></>} Posts</p>\r\n                            <p>{state?state.followers.length:0} Followers</p>\r\n                            <p>{state?state.following.length:0} Following</p>   \r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <hr style={{color:\"white\",height:\"100px\"}}/>\r\n            <div className=\"gallery\">\r\n                {\r\n                    (myposts)?\r\n                        (myposts.length>0)?\r\n                            renderMyPosts()\r\n                            :\r\n                            <h1>You dont have any post yet</h1>   \r\n                        :\r\n                        <div style={{ display: \"flex\", justifyContent: \"center\", alignItems: \"center\" }}>\r\n                            <RingLoader color={color} size={200} />\r\n                        </div>                              \r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","F:\\Face\\mern\\Photo Mania\\client\\src\\components\\screens\\UpdateUser.jsx",[],"F:\\Face\\mern\\Photo Mania\\client\\src\\components\\screens\\UserProfile.jsx",[],"F:\\Face\\mern\\Photo Mania\\client\\src\\components\\screens\\CreatePost.jsx",["66"],"import axios from 'axios'\r\nimport React,{useState , useEffect} from 'react'\r\nimport {useHistory } from 'react-router-dom'\r\nimport { toast } from 'react-toastify'\r\ntoast.configure()\r\n\r\nexport default function CreatePost() {\r\n    const history = useHistory()\r\n    \r\n    const [title,setTitle] = useState(\"\")\r\n    const [body,setBody] = useState(\"\")\r\n    const [image,setImage] = useState(\"\")\r\n    const [photo,setPhoto] = useState(\"\")\r\n\r\n    //sending data into databse\r\n\r\n    useEffect(() => {\r\n        if(photo)\r\n        {\r\n            let data={\r\n                title,body,photo\r\n            }\r\n            console.log(data);\r\n            axios('/createpost',{\r\n                method:\"post\",\r\n                headers:{ \"Authorization\": localStorage.getItem(\"jwt\")},\r\n                data:data\r\n            })\r\n            .then(res=>{\r\n                    toast.success(res.data.message)\r\n                    history.push(\"/home\")\r\n                    \r\n                })\r\n            .catch(err=>console.log(err.response.data))\r\n        }\r\n    }, [photo])\r\n\r\n    \r\n    let postDetails = (e)=>{\r\n        e.preventDefault()\r\n        \r\n        const data = new FormData()\r\n        data.append(\"file\",image)\r\n        data.append(\"upload_preset\",\"photo-mania\")\r\n        data.append(\"cloud_name\",\"photo-mania\")\r\n\r\n        //uploading image in cloudinary\r\n        \r\n            axios.post(\"https://api.cloudinary.com/v1_1/photo-mania/image/upload\",data)\r\n            .then(res=>{\r\n                console.log(res.data.url)\r\n                //setting cloudanary image url \r\n                setPhoto(res.data.url)\r\n            })\r\n            .catch(err=>console.log(err))\r\n        \r\n    } \r\n    return (\r\n        <div className=\"createPost-container\">\r\n        {console.log(title,body,photo)}\r\n            <div className=\"row\">\r\n                <div className=\"col-md-4 left-container\">\r\n                    <h1>Create</h1>\r\n                    <h1>New</h1>\r\n                    <h1>Post</h1>\r\n                </div>\r\n                <div className=\"col-md-1 borderrt\"></div>\r\n                <div className=\"form col-md-6 text-center\">\r\n                    <h1><i className=\"fas fa-plus-circle\"></i></h1>\r\n                    <form onSubmit={postDetails}>\r\n                        <div>\r\n                            <input type=\"text\" className=\"form-control \" placeholder=\"Title\" onChange={(e)=>setTitle(e.target.value)} required/>\r\n                        </div>\r\n                        <div>\r\n                            <input type=\"text\" className=\"form-control\" placeholder=\"Write a Message\" onChange={(e) => setBody(e.target.value)} required/>\r\n                        </div>\r\n                        <div className=\"file\">\r\n                            <input className=\"form-control\" type=\"file\" onChange={(e) => setImage(e.target.files[0])} required/>\r\n                        </div>\r\n                        <div>\r\n                            <button className=\"postSubmit\">Submit</button>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","F:\\Face\\mern\\Photo Mania\\client\\src\\components\\Footer.jsx",[],"F:\\Face\\mern\\Photo Mania\\client\\src\\components\\screens\\Signin.jsx",[],"F:\\Face\\mern\\Photo Mania\\client\\src\\components\\LandingPage.jsx",[],"F:\\Face\\mern\\Photo Mania\\client\\src\\components\\screens\\MyFollowingPost.jsx",[],"F:\\Face\\mern\\Photo Mania\\client\\src\\components\\screens\\Home.jsx",[],{"ruleId":"67","replacedBy":"68"},{"ruleId":"69","replacedBy":"70"},{"ruleId":"71","severity":1,"message":"72","line":36,"column":5,"nodeType":"73","endLine":36,"endColumn":7,"suggestions":"74"},{"ruleId":"71","severity":1,"message":"75","line":62,"column":8,"nodeType":"73","endLine":62,"endColumn":15,"suggestions":"76"},{"ruleId":"71","severity":1,"message":"77","line":36,"column":8,"nodeType":"73","endLine":36,"endColumn":15,"suggestions":"78"},"no-native-reassign",["79"],"no-negated-in-lhs",["80"],"react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'dispatch' and 'history'. Either include them or remove the dependency array.","ArrayExpression",["81"],"React Hook useEffect has missing dependencies: 'dispatch' and 'state._id'. Either include them or remove the dependency array.",["82"],"React Hook useEffect has missing dependencies: 'body', 'history', and 'title'. Either include them or remove the dependency array.",["83"],"no-global-assign","no-unsafe-negation",{"desc":"84","fix":"85"},{"desc":"86","fix":"87"},{"desc":"88","fix":"89"},"Update the dependencies array to be: [dispatch, history]",{"range":"90","text":"91"},"Update the dependencies array to be: [dispatch, photo, state._id]",{"range":"92","text":"93"},"Update the dependencies array to be: [body, history, photo, title]",{"range":"94","text":"95"},[1240,1242],"[dispatch, history]",[1998,2005],"[dispatch, photo, state._id]",[1052,1059],"[body, history, photo, title]"]